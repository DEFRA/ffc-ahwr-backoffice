{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/tabs/macro.njk" import govukTabs %}

{% macro viewApplicationTabs(model, vetVisit, claimed, payment, status) %}
  {% set applicationHtml %}
    <h2 class="govuk-heading-l">{{ status }}</h2>
    {{ govukTable(model.applicationData) }}
  {% endset -%}

  {% set claimHtml %}
    {% if claimed %}
      <h2 class="govuk-heading-l">Claimed</h2>
      {{ govukTable(model.claimData) }}
    {% else %}
      <h2 class="govuk-heading-l">Never claimed</h2>
    {% endif %}
  {% endset -%}

  {{ govukTabs({
    items: [
      {
        label: "Agreement",
        id: "application",
        panel: {
          html: applicationHtml
        }
      },
      {
        label: "Claim",
        id: "claim",
        panel: {
          html: claimHtml
        }
      }
    ]
  }) }}
{% endmacro %}
