{% from "govuk/components/button/macro.njk" import govukButton %}

{% macro viewAuthoriseOrRejectForm(claimOrApplication, reference, page, crumb, displayAuthorisePaymentButton) %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third">
      <div id="authorise-or-reject-form-panel" class="govuk-panel govuk-panel--confirmation govuk-panel--align-horizontal govuk-!-text-align-center">
        <div class="govuk-panel__body">
          {% if displayAuthorisePaymentButton %}
            {% if claimOrApplication == 'application' %}
              <div class="govuk-grid-row">
                {{
                  govukButton({
                    text: "Authorise payment",
                    attributes: {
                      id: "authorise-payment-button"
                    },
                    href: "/view-application/" + reference + "?page=" + page + "&approve=true",
                    preventDoubleClick: true
                  })
                }}
              </div>
            {% elif claimOrApplication == 'claim' %}
              <div class="govuk-grid-row">
                {{
                  govukButton({
                    text: "Authorise payment",
                    attributes: {
                      id: "authorise-payment-button"
                    },
                    href: "/view-claim/" + reference + "?approve=true",
                    preventDoubleClick: true
                  })
                }}
              </div>
            {% endif %}
          {% else %}
            {% if claimOrApplication == 'application' %}
              <div class="govuk-grid-row">
                {{
                  govukButton({
                    text: "Reject claim",
                    attributes: {
                      id: "reject-claim-button"
                    },
                    href: "/view-application/" + reference + "?page=" + page + "&reject=true",
                    preventDoubleClick: true
                  })
                }}
              </div>
            {% elif claimOrApplication == 'claim' %}
              <div class="govuk-grid-row">
                {{
                  govukButton({
                    text: "Reject claim",
                    attributes: {
                      id: "reject-claim-button"
                    },
                    href: "/view-claim/" + reference + "?reject=true",
                    preventDoubleClick: true
                  })
                }}
              </div>
            {% endif %}
          {% endif %}
          <p class="govuk-body">If you do not agree with this action, contact the person who recommended it and discuss it with them.</p>
        </div>
      </div>
    </div>
  </div>
{% endmacro %}
