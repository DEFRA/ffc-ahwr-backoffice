{% extends './layouts/layout.njk' %}

{% block pageTitle %}
  {{ siteTitle }}: User Application
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
        text: "Back",
        href: "/applications"
      }) }}
{% endblock %}
{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-caption-l govuk-!-margin-bottom-3">Application {{ applicationId }}</h1>

      <h2 class="govuk-heading-l">{{ organisationName }} <span class="govuk-tag {{ statusClass }}">{{ status }}</span></h2>
      {{ govukSummaryList({
        rows: listData.rows
      }) }}

      {% set applicationHtml %}
      <h2 class="govuk-heading-l">{{ status }}</h2>
      {{ govukTable(applicationData) }}
      {% endset -%}

      {% set vetReviewHtml %}
      <h2 class="govuk-heading-l">Not yet reviewed</h2>
      {% endset -%}

      {% set claimHtml %}
      <h2 class="govuk-heading-l">Not yet able to claim</h2>
      {% endset -%}

      {% set paymentHtml %}
      <h2 class="govuk-heading-l">Not yet paid</h2>
      {% endset -%}

      {{ govukTabs({
        items: [
          {
            label: "Application",
            id: "application",
            panel: {
              html: applicationHtml
            }
          },
          {
            label: "Vet Review",
            id: "vet-review",
            panel: {
              html: vetReviewHtml
            }
          },
          {
            label: "Claim",
            id: "claim",
            panel: {
              html: claimHtml
            }
          },
          {
            label: "Payment",
            id: "payment",
            panel: {
              html: paymentHtml
            }
          }
        ]
      }) }}
    </div>
  </div>
{% endblock %}